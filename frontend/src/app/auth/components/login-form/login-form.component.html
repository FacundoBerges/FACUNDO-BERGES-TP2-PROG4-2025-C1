<form [formGroup]="loginForm">
  <div class="mx-auto w-full max-w-md my-10">
    <p-inputgroup>
      <p-inputgroup-addon>
        <i class="text-primary pi pi-user"></i>
      </p-inputgroup-addon>

      <p-floatlabel variant="over">
        <input type="text" pInputText id="emailOrUsername" formControlName="emailOrUsername" class="w-full" />
        <label for="emailOrUsername">Nombre de usuario o mail</label>
      </p-floatlabel>
    </p-inputgroup>

    @if (emailOrUsername?.invalid && (emailOrUsername?.dirty || emailOrUsername?.touched)) {
      <p-message severity="error" variant="simple" size="small">{{ getErrorMessage('emailOrUsername') }}</p-message>
    }
  </div>

  <div class="mx-auto w-full max-w-md my-12">
    <p-inputgroup>
      <p-floatlabel variant="over">
        <input [type]="passwordVisible() ? 'text' : 'password'" pInputText id="password" formControlName="password"
          class="w-full" />
        <label for="password">Contraseña</label>
      </p-floatlabel>

      <p-inputgroup-addon>
        <p-button [icon]="passwordVisible() ? 'pi pi-eye' : 'pi pi-eye-slash'" severity="primary" variant="text"
          (click)="togglePasswordVisibility()" />
      </p-inputgroup-addon>
    </p-inputgroup>

    @if (password?.invalid && (password?.dirty || password?.touched)) {
      <p-message severity="error" variant="simple" size="small">{{ getErrorMessage('password') }}</p-message>
    }
  </div>

  <div class="flex justify-center my-6">
    <p-button tabindex="-1" [tabindex]="0" label="Iniciar sesión" type="submit" severity="primary"
      [disabled]="loginForm.invalid" (click)="onSubmit()" />
  </div>
</form>
